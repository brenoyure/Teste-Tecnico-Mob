<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<f:metadata>
    <f:viewParam name="eventoId">
        <f:viewAction action="#{atualizacaoEventoBean.carregarEventoPeloId(param.eventoId)}" />
    </f:viewParam>
</f:metadata>

<ui:composition template="/_template.xhtml">
    <ui:define name="titulo">Atualização de Evento</ui:define>
    <ui:define name="conteudo" >

	    <h:form id="form-atualizacaoEvento">
	
	        <h1>Detalhes Evento - #{atualizacaoEventoBean.evento.nome}</h1>

            <p:menubar hideDelay="1000">
                <p:menuitem value="Dados Evento" />
                <p:menuitem value="Participantes" icon="pi pi-users" outcome="/participantesEvento" includeViewParams="true" >Participantes
                    <f:viewParam name="eventoId" value="#{atualizacaoEventoBean.evento.id}" />
                </p:menuitem>
            </p:menubar>
	        
	        <p:panelGrid layout="tabular" columns="2" >
	        
	            <p:outputLabel for="@next" value="Nome: " />
	            <p:inputText value="#{atualizacaoEventoBean.evento.nome}" />
	        
	            <p:outputLabel for="@next" value="Data Inicial: " />
	            <p:inputText value="#{atualizacaoEventoBean.evento.dataInicial}" type="date" >
	                <f:convertDateTime pattern = "yyyy-MM-dd" type="localDate" />
	            </p:inputText>
	        
	            <p:outputLabel for="@next" value="Data Final: " />
	            <p:inputText value="#{atualizacaoEventoBean.evento.dataFinal}" type="date" >
	                <f:convertDateTime pattern = "yyyy-MM-dd" type="localDate" />
	            </p:inputText>
	        
	            <p:outputLabel value="Atualizar Cadastro" />
	            <p:commandButton value="Salvar" actionListener="#{atualizacaoEventoBean.atualizar()}" update="@form :mensagens" />
	        
	        </p:panelGrid>
	
	    </h:form>    

    </ui:define>
</ui:composition>

</html>