<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:p="http://primefaces.org/ui">
<ui:composition>

    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#participantePresencaModal#{participante.id}">Presença</button>

    <div class="modal fade" id="participantePresencaModal#{participante.id}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="exampleModalLabel">Adicionar Presença</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
         <p:panelGrid id="panelGrid-novaPresenca" layout="flex">
             <p:outputLabel value="Participante: #{participante.nome}" />
             <p:outputLabel value="CPF: #{participante.cpf}"  />

             <p:outputLabel>
                Data - Disponível entre: 
                <h:outputText value="#{participantesEventoBean.evento.dataInicio}">
                    <f:convertDateTime type="localDate" pattern="dd/MM/yyyy" />
                </h:outputText>
                 e 
                <h:outputText value="#{participantesEventoBean.evento.dataFim}">
                    <f:convertDateTime type="localDate" pattern="dd/MM/yyyy" />
                </h:outputText>
             </p:outputLabel>
             <p:inputText type="date" value="#{participante.dataPresenca}" >
                 <f:convertDateTime pattern="yyyy-MM-dd" type="localDate" />
             </p:inputText>

         </p:panelGrid>
          </div>
          <div class="modal-footer">
            <p:commandButton value="Marcar Presença" action="#{cadastroPresencaBean.marcarPresenca(participante)}" update="panelGrid-novaPresenca :mensagens" />
          </div>
        </div>
      </div>
    </div>

</ui:composition>
</html>